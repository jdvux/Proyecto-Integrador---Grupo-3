<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Editar Producto</title>
        <script
          src="https://kit.fontawesome.com/7ea488e71c.js"
          crossorigin="anonymous"
        ></script>
        <link
          href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
          rel="stylesheet"
        />
        <link rel="stylesheet" href="/css/productForm.css" />
        <link rel="stylesheet" href="/css/navAndFooter.css">
        <link rel="icon" href="/images/logo_small_black.png">
        </head>

<body>
    <%- include('../partials/header.ejs') %>

    <div>
    <form method ="post" action ="/products/editProduct/<%=product.id%>?_method=PUT" class="product-form" enctype="multipart/form-data">
        
        <!--titulo de la pag----->
        <h1 class="product-form-title">Editar Producto</h1>
        
        <!--datos que se piden para el registro en cajas-------->
        <input class="box-form" type="text" name="name" placeholder="Nombre del producto" value="<%=product.name%>" required>
        <% if (locals.errors && locals.errors.name) { %>
            <p class="feedback"><%= locals.errors.name%> </p>
            <% } %>

        <input class="box-form" type="text" placeholder="Descripción" name="description" value="<%=product.description%>" required>
        <% if (locals.errors && locals.errors.description) { %>
            <p class="feedback"><%= locals.errors.description%> </p>
            <% } %>
        
        <div>
            <input type="file" id="files" name="upload-product" class="hidden" value="<%=product.image%>" multiple/>
            <label for="files">Seleccionar archivo
                <i class="fa-solid fa-camera-rotate"></i>
            </label>
        </div>

        <input class="box-form" type="text" placeholder="Talle del producto" name="size" value="<%=product.size%>" required>
        <% if (locals.errors && locals.errors.size) { %>
            <p class="feedback"><%= locals.errors.size%> </p>
            <% } %>

        <input class="box-form" type="text" name="category" placeholder="Categoría" value="<%=product.category%>" required>
        <% if (locals.errors && locals.errors.category) { %>
            <p class="feedback"><%= locals.errors.category%> </p>
            <% } %>

        <input class="box-form" type="text" placeholder="Precio original sin descuento" name="oldPrice" value="<%=product.oldPrice%>" required>
        <% if (locals.errors && locals.errors.oldPrice) { %>
            <p class="feedback"><%= locals.errors.oldPrice%> </p>
            <% } %>

        <input class="box-form" type="text" name="price" placeholder="Precio" value="<%=product.price%>" required>
        <% if (locals.errors && locals.errors.price) { %>
            <p class="feedback"><%= locals.errors.price%> </p>
            <% } %>
        
        <!--Boton-->
        <input type="submit" class="button-form" value="Enviar"></input>
        <input type="reset" class="button-form" value="Borrar"></input>
            
        
    </form>

    <%- include('../partials/footer') %>
</body>
</html>